<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WTFDIN - What The Fuck Do I Need?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --bg-tertiary: #0f3460;
            --text-primary: #eaeaea;
            --text-secondary: #a0a0a0;
            --accent: #e94560;
            --accent-hover: #ff6b6b;
            --border: #2a2a4a;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-header h1 {
            font-size: 1.25rem;
            color: var(--accent);
        }

        .sidebar-header p {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .character-list {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .character-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .character-list-header h2 {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .btn {
            background-color: var(--accent);
            color: var(--text-primary);
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background-color 0.2s;
        }

        .btn:hover {
            background-color: var(--accent-hover);
        }

        .btn:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        .btn-small {
            padding: 4px 8px;
            font-size: 0.75rem;
        }

        .character-item {
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            margin-bottom: 4px;
            transition: background-color 0.2s;
        }

        .character-item:hover {
            background-color: var(--bg-tertiary);
        }

        .character-item.selected {
            background-color: var(--bg-tertiary);
            border-left: 3px solid var(--accent);
        }

        .character-item .name {
            font-weight: 500;
        }

        .no-characters {
            color: var(--text-secondary);
            font-size: 0.875rem;
            text-align: center;
            padding: 20px;
        }

        /* Main Panel */
        .main-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .main-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .main-header h2 {
            font-size: 1.5rem;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
        }

        .empty-state p {
            margin-bottom: 16px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border);
                max-height: 40vh;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>WTFDIN</h1>
                <p>What The Fuck Do I Need?</p>
            </div>
            <div class="character-list">
                <div class="character-list-header">
                    <h2>Characters</h2>
                    <button class="btn btn-small" id="add-character-btn">+ Add</button>
                </div>
                <div id="character-list-container">
                    <p class="no-characters">No characters yet. Add one to get started!</p>
                </div>
            </div>
        </aside>
        <main class="main-panel">
            <div class="main-header">
                <h2 id="character-name">Select a Character</h2>
            </div>
            <div class="main-content">
                <div class="empty-state" id="empty-state">
                    <p>Select a character from the sidebar to view their gear progress.</p>
                </div>
                <div id="character-details" style="display: none;">
                    <!-- Character details will be rendered here -->
                </div>
            </div>
        </main>
    </div>
    <script>
        // WTFDIN - What The Fuck Do I Need?
        // Vanilla JS FFXIV Gear Tracker

        (function() {
            'use strict';

            // State
            let state = {
                characters: [],
                selectedCharacterId: null
            };

            // DOM Elements
            const addCharacterBtn = document.getElementById('add-character-btn');
            const characterListContainer = document.getElementById('character-list-container');
            const characterNameHeader = document.getElementById('character-name');
            const emptyState = document.getElementById('empty-state');
            const characterDetails = document.getElementById('character-details');

            // Initialize
            function init() {
                loadState();
                render();
                attachEventListeners();
            }

            // Local Storage
            function loadState() {
                const saved = localStorage.getItem('wtfdin-data');
                if (saved) {
                    try {
                        state = JSON.parse(saved);
                    } catch (e) {
                        console.error('Failed to parse saved state:', e);
                    }
                }
            }

            function saveState() {
                localStorage.setItem('wtfdin-data', JSON.stringify(state));
            }

            // Event Listeners
            function attachEventListeners() {
                addCharacterBtn.addEventListener('click', handleAddCharacter);
            }

            function handleAddCharacter() {
                const name = prompt('Enter character name:');
                if (name && name.trim()) {
                    const character = {
                        id: Date.now().toString(),
                        name: name.trim(),
                        jobs: []
                    };
                    state.characters.push(character);
                    state.selectedCharacterId = character.id;
                    saveState();
                    render();
                }
            }

            function selectCharacter(id) {
                state.selectedCharacterId = id;
                saveState();
                render();
            }

            // Rendering
            function render() {
                renderCharacterList();
                renderMainPanel();
            }

            function renderCharacterList() {
                if (state.characters.length === 0) {
                    characterListContainer.innerHTML = '<p class="no-characters">No characters yet. Add one to get started!</p>';
                    return;
                }

                characterListContainer.innerHTML = state.characters.map(char => `
                    <div class="character-item ${char.id === state.selectedCharacterId ? 'selected' : ''}"
                         data-id="${char.id}">
                        <span class="name">${escapeHtml(char.name)}</span>
                    </div>
                `).join('');

                // Attach click handlers
                characterListContainer.querySelectorAll('.character-item').forEach(item => {
                    item.addEventListener('click', () => selectCharacter(item.dataset.id));
                });
            }

            function renderMainPanel() {
                const selected = state.characters.find(c => c.id === state.selectedCharacterId);

                if (!selected) {
                    characterNameHeader.textContent = 'Select a Character';
                    emptyState.style.display = 'flex';
                    characterDetails.style.display = 'none';
                    return;
                }

                characterNameHeader.textContent = selected.name;
                emptyState.style.display = 'none';
                characterDetails.style.display = 'block';
                characterDetails.innerHTML = `
                    <p>Character: ${escapeHtml(selected.name)}</p>
                    <p style="color: var(--text-secondary); margin-top: 8px;">Job management coming soon...</p>
                `;
            }

            // Utilities
            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            // Start the app
            init();
        })();
    </script>
</body>
</html>
