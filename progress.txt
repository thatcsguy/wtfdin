## BIS-001, BIS-002, BIS-003 - Remove Pre-configured BIS Lists

Completed: Removed all BiS preset functionality

Changes:
- Deleted JOB_BIS_PRESETS object (~280 lines of job-specific configs)
- Deleted DEFAULT_BIS constant
- Deleted getBiSPreset() function
- Modified getSlotType() to default to "raid" instead of using preset
- Modified showBisConfigStep() to skip preset/manual choice, go direct to slot config
- Modified addJobWithConfig() to compare against "raid" default instead of preset

Key decisions:
- All slots now default to "raid" type (per BIS-003 requirement)
- Removed the "Use Preset BiS" / "Configure Manually" button choice entirely
- Users now configure each slot directly when adding a job

Files changed:
- index.html (removed ~300 lines of preset data/functions, updated add-job flow)
- prd.json (marked BIS-001, BIS-002, BIS-003 as passes: true)

## NAV-001, NAV-002 - Remove Left Navigation Bar

Completed: Removed sidebar from UI, main content now full-width

Changes:
- Removed <aside class="sidebar"> HTML element and all contents
- Removed ~180 lines of sidebar CSS (.sidebar, .sidebar-header, .sidebar-actions, .character-list, .character-list-header, .character-list-container, .character-item, .character-avatar, .character-item-content, .character-item-actions, .no-characters, .sidebar-footer, .btn-add-character, etc.)
- Removed mobile-responsive sidebar styles from @media query
- Made renderCharacterList() a no-op (sidebar container gone)
- Made addCharacterBtn/exportBtn event listeners conditional (elements null)
- Updated empty state text to remove "sidebar" reference

Key decisions:
- Kept character management JS functions for TOP-xxx tasks (dropdown in top nav)
- JS gracefully handles null DOM elements (won't error)

Files changed:
- index.html (removed sidebar HTML, CSS, updated JS)
- prd.json (marked NAV-001, NAV-002 as passes: true)

## TOP-001 - App title and export button in top nav

Completed: Added top navigation bar with WTFDIN title and export button

Changes:
- Added <nav class="top-nav"> with app-brand (WTFDIN title) and export button
- Added CSS for .top-nav, .top-nav-left, .app-brand, .app-title, .btn-export
- Changed .app-container to flex-direction: column for vertical stacking
- Added mobile-responsive styles for top nav (smaller font, icon-only export btn)
- Export button uses SVG icon + text, triggers existing handleExport()

Key decisions:
- Title uses monospace font (SF Mono/Fira Code) for techy aesthetic
- Export btn styled as subtle outlined button, becomes icon-only on mobile
- Prepared .top-nav-center for character dropdown (TOP-002+)

Files changed:
- index.html (added top nav HTML/CSS)
- prd.json (marked TOP-001 as passes: true)

## TOP-002 - Character dropdown in top nav

Completed: Character name displayed as custom dropdown in top-nav-center

Changes:
- Added ~130 lines dropdown CSS (.character-dropdown, -trigger, -name, -chevron, -menu, -list, -item, -avatar, -item-name)
- Added dropdown HTML in top-nav-center with trigger btn, chevron SVG, menu container
- Added JS: characterDropdown* element refs, toggle/open/close functions
- Updated renderCharacterList() to render chars to dropdown instead of sidebar
- Added click-outside listener to close dropdown
- Added aria attributes (haspopup, expanded, role=listbox/option, aria-selected)

Key decisions:
- Dropdown centered in top nav via left:50% + translateX(-50%)
- Uses app color vars (--bg-elevated, --border, --accent-muted)
- Selected char highlighted w/ accent bg + dot indicator
- Avatar shows initials using existing getInitials()

Files changed:
- index.html (added dropdown CSS/HTML/JS)
- prd.json (marked TOP-002 as passes: true)

## TOP-003 - New Character option in dropdown

Completed: Added 'New Character' option w/ divider to character dropdown

Changes:
- Added CSS: .character-dropdown-divider (1px border separator)
- Added CSS: .character-dropdown-item.new-character (accent color styling)
- Modified renderCharacterList() to append divider + "New Character" option
- New option shows "+" avatar, calls handleAddCharacter() on click
- Divider only renders when characters exist (clean look for empty state)

Key decisions:
- Reused existing handleAddCharacter() for modal flow
- "+" symbol in avatar slot matches visual language
- Accent color distinguishes action item from selection items

Files changed:
- index.html (added divider/new-char CSS, updated renderCharacterList JS)
- prd.json (marked TOP-003 as passes: true)

## TOP-004 - Custom dropdown UX behavior

Completed: Full keyboard accessibility for character dropdown

Changes:
- Added CSS .character-dropdown-item.focused (outline indicator)
- Added handleDropdownTriggerKeydown() for Enter/Space/ArrowDown on trigger
- Added document keydown listener for Escape/Arrow/Enter when dropdown open
- Added handleDropdownArrowKey() for arrow navigation w/ wrapping
- Added focusFirstDropdownItem() to focus selected or first item
- Modified closeCharacterDropdown() to clear focused state
- Used e.stopPropagation() to prevent event bubbling conflicts

Key decisions:
- Enter/Space on trigger: opens dropdown and focuses selected item
- ArrowDown/ArrowUp: navigate items w/ wrapping at ends
- Enter on focused item: selects and closes dropdown
- Escape: closes dropdown, returns focus to trigger
- Click outside: closes dropdown (already existed from TOP-002)
- Visual focus indicator: accent outline on focused item

Files changed:
- index.html (added keyboard nav JS, focused CSS)
- prd.json (marked TOP-004 as passes: true)

## TOP-005 - Edit button for renaming character

Completed: Pencil icon button next to dropdown opens rename modal

Changes:
- Added CSS: .character-actions container, .btn-icon (32x32 icon button w/ hover/focus/disabled states)
- Added HTML: edit button w/ pencil SVG in character-actions div next to dropdown
- Added JS: btnEditCharacter ref, click handler calling handleRenameCharacter(selectedCharacterId)
- Updated renderCharacterList() to toggle button disabled state based on selection

Key decisions:
- Reused existing handleRenameCharacter() and openInputModal() - no new modal needed
- Button starts disabled, enabled when character selected
- Transparent bg by default, elevated on hover for subtle appearance
- Used standard pencil/edit SVG icon (Feather icons style)

Files changed:
- index.html (added icon btn CSS/HTML/JS)
- prd.json (marked TOP-005 as passes: true)
